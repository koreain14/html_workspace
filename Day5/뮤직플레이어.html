<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>뮤직 플레이어</title>

<style>
#monitor{
	background:lightyellow;
	width:400px;
	height:100px;
	border: 1px solid green;
	font-size: 18pt;
	color: green;
	font-weight:bold;

}
</style>
<script>
var isPlaying=false; // 플레이 시킬지 멈출지 여부를 결정하는 논리값.
var count=1; // 어떤 파일을 실행할지 그 이름을 담게 될 변수!!

//문서 내에 뮤직이라는 요소를 플레이하자!!
function play(){
	if(!isPlaying){
	document.getElementById("music").loop=document.getElementById("ch").checked; // 체크박스의 상태에 따라 Loop 여부를 결정.
	document.getElementById("music").load();
	document.getElementById("music").play();
	document.getElementById("musicName").innerText="Sam Ock_Here I go"; // 마크 안에 텍스트를 바꾸는 것 --> innerText
	document.getElementById("bt_play").value="||"; // 제어를 하기 위해서는 ID를 주어라!
	}else{
	document.getElementById("music").pause();
	document.getElementById("bt_play").value="▶";
	}
	isPlaying=!isPlaying; // 기존의 값을 뒤집는다. (스위치 on/off 개념)
}

function stop(){
	// load --> 다시 음악을 준비시켜라!!
	document.getElementById("music").load();
}

function next(){
	count++;
	document.getElementById("dest").src="../music/"+count+".mp3"
	document.getElementById("music").load(); // 변경된 음악을 메모리에 로딩할 시간을 줘야한다.
	document.getElementById("music").play(); // 그리고 나서 플레이가 됨.

}
function previous(){
	count--;
	document.getElementById("dest").src="../music/"+count+".mp3";
	document.getElementById("music").load();
	document.getElementById("music").play();

}	

</script>
</head>
<body>
<audio id="music">
	<source id="dest" src="../music/1.mp3" type="audio/mpeg"> 
	<!-- 태그안에 태그가 있기 때문에 아이디를 두개 다 부여해야함 / 불러오는 파일명 확인!!! -->

</audio>

<div id="monitor">
<marquee id="musicName">재생버튼을 누르세요</marquee>
</div>
<input type="button" value="◀◀" onClick="previous()">
<input type="button" value="■" onClick="stop()">
<input type="button" value="▶" onClick="play()" id="bt_play">
<input type="button" value="▶▶" onClick="next()">
<input type="checkbox" id="ch"> 반복

</body>
</html>
